<div id="follow-up-details-page">
    <div class="card follow-up-details-content" *ngIf="(mergedSessionAvailable || openFollowUpAppointmentListAvailable) && sessionsList[0]?.id !== session.id">
        <div class="card-body">
            <div id="nav-sessions" *ngIf="mergedSessionAvailable">
                <div class="nav-sessions previous-session-sect" *ngIf="is_prev_available">
                    <a class="previous-session" (click)="getPreviousSession(sessionsList[0])"><i class="fa fa-arrow-left" aria-hidden="true"></i>PREV</a>
                </div>
                <div class="nav-sessions next-session-sect" *ngIf="is_next_available">
                    <a class="next-session" (click)="getNextSession(sessionsList[0])">NEXT<i class="fa fa-arrow-right" aria-hidden="true"></i></a>
                </div>
            </div>

            <div class="notification-section">
                <h6 class="notification" *ngIf="openFollowUpAppointmentListAvailable === true">This patient has an OPEN follow up appointment.</h6>

                <h6 class="notification" *ngIf="mergedSessionAvailable === true">Related Sessions.</h6>
            </div>

            <div class="row">
                <div class="col-sm-4">
                    <p class="session-data"><span class="session-label"><i><b>Registration Date:</b></i></span><span
                            class="session-value"><b>{{sessionsList[0]?.date | date: 'dd/MM/yyyy'}}</b></span></p>
                </div>
                <div class="col-sm-4">
                    <p class="session-data"><span class="session-label"><i><b>Follow up Date:</b></i></span><span
                            class="session-value"><b>{{sessionsList[0]?.followUpDate | date: 'dd/MM/yyyy'}}</b></span></p>
                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="details-section-header">
                                <p class="header-title">
                                    Complaints
                                </p>
                            </div>
                            <div class="details-section-body">
                                <ul>
                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.complaints?.entry1}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.complaints?.entry2}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.complaints?.entry3}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.complaints?.entry4}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.complaints?.entry5}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.complaints?.entry6}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.complaints?.entry7}}</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="details-section-header">
                                <p class="header-title">
                                    Physical Examination
                                </p>
                            </div>
                            <div class="details-section-body">
                                <ul>
                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.physicalExams?.entry1}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.physicalExams?.entry2}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.physicalExams?.entry3}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.physicalExams?.entry4}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.physicalExams?.entry5}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.physicalExams?.entry6}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.physicalExams?.entry7}}</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="details-section-header">
                                <p class="header-title">
                                    Comorbidities
                                </p>
                            </div>
                            <div class="details-section-body">
                                <ul>
                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.comorbidities?.entry1}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.comorbidities?.entry2}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.comorbidities?.entry3}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.comorbidities?.entry4}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.comorbidities?.entry5}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.comorbidities?.entry6}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.comorbidities?.entry7}}</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="details-section-header">
                                <p class="header-title">
                                    Investigations
                                </p>
                            </div>
                            <div class="details-section-body">
                                <ul>
                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.investigations?.entry1}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.investigations?.entry2}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.investigations?.entry3}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.investigations?.entry4}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.investigations?.entry5}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.investigations?.entry6}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.investigations?.entry7}}</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="details-section-header">
                                <p class="header-title">
                                    Diagnosis
                                </p>
                            </div>
                            <div class="details-section-body">
                                <ul>
                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.diagnosis?.entry1}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.diagnosis?.entry2}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.diagnosis?.entry3}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.diagnosis?.entry4}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.diagnosis?.entry5}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.diagnosis?.entry6}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.diagnosis?.entry7}}</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="details-section-header">
                                <p class="header-title">
                                    Treatment
                                </p>
                            </div>
                            <div class="details-section-body">
                                <ul>
                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.treatment?.entry1}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.treatment?.entry2}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.treatment?.entry3}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.treatment?.entry4}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.treatment?.entry5}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.treatment?.entry6}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.treatment?.entry7}}</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="details-section-header">
                                <p class="header-title">
                                    Remarks
                                </p>
                            </div>
                            <div class="details-section-body">
                                <ul>
                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.remarks?.entry1}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.remarks?.entry2}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.remarks?.entry3}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.remarks?.entry4}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.remarks?.entry5}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.remarks?.entry6}}</p>
                                    </li>

                                    <li>
                                        <p class="details-section-data">{{sessionsList[0]?.remarks?.entry7}}</p>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- <div class="col-md-4">
                            <div class="details-section-header">
                                <p class="header-title">
                                    Vitals
                                </p>
                            </div>
                            <div class="table-responsive">
                                <table class="table table-user-information">
                                    <tbody>
                                        <tr>
                                            <td>Systolic:</td>
                                            <td>{{sessionsList[0]?.vitals?.systolic}} mmHg</td>
                                        </tr>
                                        <tr>
                                            <td>Diastolic:</td>
                                            <td>{{sessionsList[0]?.vitals?.diastolic}} mmHg</td>
                                        </tr>
                                        <tr>
                                            <td>Pulse Rate:</td>
                                            <td>{{sessionsList[0]?.vitals?.pulseRate}} /min</td>
                                        </tr>
                                        <tr>
                                            <td>Temperature:</td>
                                            <td>{{sessionsList[0]?.vitals?.temperature}} celsius</td>
                                        </tr>
                                        <tr>
                                            <td>SPO2:</td>
                                            <td>{{sessionsList[0]?.vitals?.spo2}}%</td>
                                        </tr>
                                        <tr>
                                            <td>Weight:</td>
                                            <td>{{sessionsList[0]?.vitals?.weight}} Kg</td>
                                        </tr>
    
                                    </tbody>
                                </table>
                            </div>
                        </div> -->
                        <div class="col-md-8">
                            <div class="details-section-header">
                                <p class="header-title">
                                    Charges
                                </p>
                            </div>
                            <div class="table-responsive">
                                <table class="table">
                                    <thead class="table-info">
                                        <tr>
                                            <th></th>
                                            <th>Payment For</th>
                                            <th>Method</th>
                                            <th>Amount Paid (Ksh)</th>
                                            <th>Balance (Ksh)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let payment of sessionsList[0]?.payments; let i = index" class="session-entry">
                                            <td>{{(i+1)}}</td>
                                            <td>{{payment?.concept}}</td>
                                            <td>{{payment?.method}}</td>
                                            <td>{{payment?.amount}}</td>
                                            <td>{{payment?.balance}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <button *ngIf="openFollowUpAppointmentListAvailable === true" class="btn btn-cancel btn-left" (click)="cancelFollowUp(sessionsList[0])">Cancel Appointment</button>
                            <button *ngIf="openFollowUpAppointmentListAvailable === true" class="btn btn-merge btn-right" (click)="mergeSessions(sessionsList[0])">Merge Sessions</button>
                            <button class="btn btn-merge btn-right" (click)="navToSessionDetails(sessionsList[0])" style="margin-right: 20px;">View Details</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>